<!-- Markets sorting row -->
<div class="row pb-3 align-items-center">
    <!-- select box with sorting options - works using selectBoxSorting function in script.js, event listener on id -->
    <div class="col-12 col-md-6 col-lg-4">
        <select id="sorting-selector" class="custom-select custom-select-sm rounded-0"
            aria-label="Sorting options">
            <option value="reset" {% if current_sorting == 'None_None' %}selected{% endif %}>Sort by...</option>
            <option value="name_asc" {% if current_sorting == 'name_asc' %}selected{% endif %}>Market name (A-Z)</option>
            <option value="name_desc" {% if current_sorting == 'name_desc' %}selected{% endif %}>Market name (Z-A)</option>
            <option value="date_asc" {% if current_sorting == 'date_asc' %}selected{% endif %}>Date (soonest to latest)</option>
            <option value="date_desc" {% if current_sorting == 'date_desc' %}selected{% endif %}>Date (latest to soonest)</option>
        </select>
    </div>
    <!-- Display results column. Show number of markets being shown, and county name if county filter selected -->
    <div class="col-12 col-md-6 col-lg-4">
        <p class="text-muted font-90 mt-3">
            {{ markets|length }} market{% if markets|length != 1 %}s{% endif %} in
            {% if current_county %}
            <strong>{{ current_county.get_friendly_name }}</strong>
            {% else %}all counties. Choose county to filter.
            {% endif %}
        </p>
    </div>
    <!-- end of display results column -->
    <!-- dropdown box to choose county to filter markets by -->
    <div class="col-12 col-md-6 col-lg-4">
        <div class="dropdown">
            <a class="btn w-100 d-flex align-items-center justify-content-between" href="#"
                id="filterByCounty" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                data-display="static">
                <span class="font-90">Filter by county...</span>
                <i class="bi bi-chevron-down ml-1" aria-hidden="true"></i>
        </a>
            <div class="dropdown-menu" aria-labelledby="filterByCounty">
                <!-- option to select all counties -->
                <a class="dropdown-item" href="{% url 'markets' %}">All</a>
                {% for market in all_markets %}
                <!-- remaining dropdown options are the available counties from the markets in the queryset, county name only shown once -->
                {% ifchanged %}
                <a class="dropdown-item"
                    href="{% url 'markets' %}?county={{market.county.name}}">{{ market.county.friendly_name }}</a>
                {% endifchanged %}
                {% endfor %}
            </div>
        </div>
    </div>
    <!-- end of county filtering options column -->
</div>